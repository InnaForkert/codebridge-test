{"version":3,"file":"static/js/973.0644f333.chunk.js","mappings":"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","sources":["state/utils/hooks.ts","components/Article.tsx","components/Articles.tsx","hooks/useFetchCount.ts","components/FilterForm.tsx","pages/Home.tsx"],"sourcesContent":["import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\nimport type { RootState, AppDispatch } from \"../store\";\r\n\r\nexport const useAppDispatch: () => AppDispatch = useDispatch;\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n","import { Link } from \"react-router-dom\";\r\nimport { ArticleInterface } from \"../interfaces/interfaces\";\r\nimport Card from \"@mui/material/Card\";\r\nimport CardMedia from \"@mui/material/CardMedia\";\r\nimport { format } from \"date-fns\";\r\nimport { CardContent, Typography } from \"@mui/material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport CalendarTodayOutlinedIcon from \"@mui/icons-material/CalendarTodayOutlined\";\r\nimport EastIcon from \"@mui/icons-material/East\";\r\nimport Highlighter from \"react-highlight-words\";\r\nimport { useAppSelector } from \"../state/utils/hooks\";\r\n\r\nfunction Article({\r\n  data: { publishedAt, title, summary, imageUrl, id },\r\n}: {\r\n  data: ArticleInterface;\r\n}) {\r\n  const themeType = useTheme();\r\n  const filter = useAppSelector((state) => state.filter);\r\n  const formatedDate = format(new Date(publishedAt), \"PPP\");\r\n  const formattedSummary = formatSummary();\r\n\r\n  function formatSummary() {\r\n    const breakPoint = title.length > 80 ? 75 : 100;\r\n    if (summary.length < breakPoint) {\r\n      return summary;\r\n    }\r\n    const lastSpace = summary.slice(0, breakPoint).split(\"\").lastIndexOf(\" \");\r\n    return summary.slice(0, lastSpace) + \"...\";\r\n  }\r\n\r\n  return (\r\n    <Card\r\n      variant=\"outlined\"\r\n      sx={{\r\n        width: 400,\r\n        height: \"530px\",\r\n        position: \"relative\",\r\n        boxShadow: \"0px 8px 24px rgba(0, 0, 0, 0.05)\",\r\n      }}\r\n    >\r\n      <CardMedia\r\n        component=\"img\"\r\n        image={imageUrl}\r\n        alt={title}\r\n        width=\"400\"\r\n        height=\"217\"\r\n      />\r\n      <CardContent sx={{ padding: \"16px 24px\" }}>\r\n        <Typography\r\n          variant=\"body2\"\r\n          color={(theme: typeof themeType) => theme.palette.secondary.main}\r\n          mb={3}\r\n          sx={{ display: \"flex\", alignItems: \"center\", gap: \"5px\" }}\r\n        >\r\n          <CalendarTodayOutlinedIcon sx={{ width: 14, height: 14 }} />{\" \"}\r\n          {formatedDate}\r\n        </Typography>\r\n        <Typography\r\n          variant=\"body1\"\r\n          fontSize={24}\r\n          mb={\"20px\"}\r\n          sx={{ lineHeight: 1.2 }}\r\n        >\r\n          <Highlighter\r\n            searchWords={filter.split(\" \")}\r\n            autoEscape={true}\r\n            textToHighlight={title}\r\n          />\r\n        </Typography>\r\n        <Typography>\r\n          <Highlighter\r\n            searchWords={filter.split(\" \")}\r\n            autoEscape={true}\r\n            textToHighlight={formattedSummary}\r\n          />\r\n        </Typography>\r\n        <Typography\r\n          component={Link}\r\n          to={`/article/${id}`}\r\n          fontWeight={700}\r\n          sx={{\r\n            position: \"absolute\",\r\n            bottom: \"25px\",\r\n            left: \"25px\",\r\n            textDecoration: \"none\",\r\n            color: (theme) => theme.palette.primary.main,\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            gap: \"6px\",\r\n          }}\r\n        >\r\n          Read more <EastIcon />\r\n        </Typography>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default Article;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useAppDispatch, useAppSelector } from \"../state/utils/hooks\";\r\nimport { fetchArticles } from \"../state/utils/getArticles\";\r\nimport Article from \"./Article\";\r\nimport { nanoid } from \"nanoid\";\r\nimport { ArticleInterface } from \"../interfaces/interfaces\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport Divider from \"@mui/material/Divider\";\r\nimport { Typography } from \"@mui/material\";\r\nimport { useFetchCount } from \"../hooks/useFetchCount\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport { clearArticles } from \"../state/features/articles\";\r\n\r\nfunction Articles() {\r\n  const dispatch = useAppDispatch();\r\n  const articles = useAppSelector((state) => state.articles.articles);\r\n  const isError = useAppSelector((state) => state.articles.error);\r\n  const isLoading = useAppSelector((state) => state.articles.isLoading);\r\n  const filter = useAppSelector((state) => state.filter);\r\n  const [url, setUrl] = useState(\r\n    \"https://api.spaceflightnewsapi.net/v3/articles/count\"\r\n  );\r\n  const { data: count } = useFetchCount(url);\r\n  const [page, setPage] = useState(1);\r\n\r\n  const hasMore = count - page * 12 > 0;\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchArticles({ filter: filter, page: page }));\r\n  }, [dispatch, filter, page]);\r\n\r\n  useEffect(() => {\r\n    setPage(1);\r\n    dispatch(clearArticles());\r\n    setUrl(\r\n      `https://api.spaceflightnewsapi.net/v3/articles/count?title_contains=${filter}`\r\n    );\r\n  }, [dispatch, filter]);\r\n\r\n  return (\r\n    <>\r\n      <Typography fontWeight={600} mt={5}>\r\n        Results: {hasMore ? count : articles.length}\r\n      </Typography>\r\n      <Divider />\r\n      {isError && <p>Oops! Something went wrong! ðŸ¤”</p>}\r\n      {isLoading && <p>Loading...</p>}\r\n      <InfiniteScroll\r\n        next={() => {\r\n          setPage((prev) => prev + 1);\r\n          console.log(1, page);\r\n        }}\r\n        hasMore={hasMore}\r\n        loader={<h4>Loading...</h4>}\r\n        dataLength={articles.length}\r\n        endMessage={<p>Sorry, no more news ðŸ˜¥</p>}\r\n      >\r\n        <Grid\r\n          container\r\n          rowSpacing={\"45px\"}\r\n          justifyContent=\"space-between\"\r\n          mt={6.25}\r\n        >\r\n          {articles &&\r\n            articles.map((el: ArticleInterface) => (\r\n              <Grid item key={nanoid()}>\r\n                <Article data={el} />\r\n              </Grid>\r\n            ))}\r\n        </Grid>\r\n      </InfiniteScroll>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Articles;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nexport const useFetchCount = (url: string) => {\r\n  const [data, setData] = useState(0);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setIsLoading(true);\r\n\r\n      try {\r\n        const res = await fetch(url);\r\n        if (!res.ok) {\r\n          throw new Error(res.statusText);\r\n        }\r\n        const data = await res.json();\r\n\r\n        setIsLoading(false);\r\n        setData(data);\r\n        setIsError(false);\r\n      } catch (err) {\r\n        setIsError(true);\r\n        if (err instanceof Error) {\r\n          console.log(err.message);\r\n          return;\r\n        }\r\n        console.log(\"Unknown Error\");\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [url]);\r\n\r\n  return { data, isLoading, isError };\r\n};\r\n","import { Grid, OutlinedInput, Typography } from \"@mui/material\";\r\nimport { setFilter } from \"../state/features/filter\";\r\nimport { useAppDispatch, useAppSelector } from \"../state/utils/hooks\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\n\r\nfunction FilterForm() {\r\n  const dispatch = useAppDispatch();\r\n  const filterValue = useAppSelector((state) => state.filter);\r\n\r\n  function handleInput(\r\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\r\n  ) {\r\n    dispatch(setFilter(e.target.value));\r\n  }\r\n\r\n  return (\r\n    <Grid container direction=\"column\">\r\n      <Grid item>\r\n        <Typography fontWeight={600} mb={\"10px\"}>\r\n          Filter by keywords\r\n        </Typography>\r\n      </Grid>\r\n      <Grid item>\r\n        <OutlinedInput\r\n          onChange={(e) => handleInput(e)}\r\n          value={filterValue}\r\n          startAdornment={<SearchIcon />}\r\n          placeholder=\"Space is cool\"\r\n          sx={{\r\n            width: \"600px\",\r\n            boxShadow: \"0px 8px 24px rgba(0, 0, 0, 0.05)\",\r\n          }}\r\n        />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default FilterForm;\r\n","import Container from \"@mui/material/Container\";\r\nimport Articles from \"../components/Articles\";\r\nimport FilterForm from \"../components/FilterForm\";\r\n\r\nfunction Home() {\r\n  return (\r\n    <Container\r\n      maxWidth={false}\r\n      fixed\r\n      disableGutters={true}\r\n      sx={{ paddingBlock: 6.25, width: \"1440px\", paddingInline: \"75px\" }}\r\n    >\r\n      <FilterForm />\r\n      <Articles />\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"],"names":["useAppDispatch","useDispatch","useAppSelector","useSelector","data","publishedAt","title","summary","imageUrl","id","filter","useTheme","state","formatedDate","format","Date","formattedSummary","breakPoint","length","lastSpace","slice","split","lastIndexOf","formatSummary","Card","variant","sx","width","height","position","boxShadow","CardMedia","component","image","alt","CardContent","padding","Typography","color","theme","palette","secondary","main","mb","display","alignItems","gap","CalendarTodayOutlined","fontSize","lineHeight","searchWords","autoEscape","textToHighlight","Link","to","fontWeight","bottom","left","textDecoration","primary","East","dispatch","articles","isError","error","isLoading","useState","url","setUrl","setData","setIsLoading","setIsError","useEffect","fetchData","fetch","res","ok","Error","statusText","json","console","log","message","useFetchCount","count","page","setPage","hasMore","fetchArticles","clearArticles","mt","Divider","next","prev","loader","dataLength","endMessage","Grid","container","rowSpacing","justifyContent","map","el","item","nanoid","filterValue","direction","OutlinedInput","onChange","e","setFilter","target","value","handleInput","startAdornment","Search","placeholder","Container","maxWidth","fixed","disableGutters","paddingBlock","paddingInline"],"sourceRoot":""}